sap.ui.define(["sap/ui/core/mvc/Controller","nrg/module/app/view/App","nrg/module/app/view/AppHeader","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(a,b,c,d){"use strict";var e=a.extend("nrg.module.app.view.CcuxApp");return e.prototype.onBeforeRendering=function(){},e.prototype.onInit=function(){this._oApp=new b(this),this.getView().setModel(sap.ui.getCore().getMessageManager().getMessageModel(),"view-message")},e.prototype.getApp=function(){return this._oApp},e.prototype._onFooterNotificationLinkPress=function(){},e.prototype._formatCampaignTime=function(a){if(a){var b=sap.ui.core.format.DateFormat.getDateInstance({pattern:"MM/yyyy"}),c=b.format(new Date(a.getTime()));return c}},e.prototype._onCampaignBtnClick=function(a){this._oApp._getFooter().onCampaignBtnClick(a)},e.prototype._onCampaignItemClick=function(a){this._oApp._getFooter().onCampaignItemClick(a)},e.prototype._onRHS=function(){var a=this.getOwnerComponent().getCcuxWebUiManager();a.notifyWebUi("openIndex",{LINK_ID:"ZVASOPTSLN"})},e.prototype._onQuickLinkClick=function(a){switch(this._oApp.setHeaderMenuItemSelected(!1,b.HMItemId.Menu),a.getSource().getId()){case b.QuickLinkId.Dashboard:this._onQLDashboardClick(a);break;case b.QuickLinkId.Campaign:this._onQLCampaignClick(a);break;case b.QuickLinkId.BusinessPartner:this._onQLBusinessPartnerClick(a);break;case b.QuickLinkId.RHS:this._onQLRHSClick(a);break;case b.QuickLinkId.History:this._onQLHistoryClick(a);break;case b.QuickLinkId.HighBill:this._onQLHighBillClick(a);break;case b.QuickLinkId.ContactLog:this._onQLContactLogClick(a);break;case b.QuickLinkId.Billing:this._onQLBillingClick(a);break;case b.QuickLinkId.Referral:this._onQLReferralClick(a)}},e.prototype._onQLBillingClick=function(){var a,b;a=this.getOwnerComponent().getCcuxContextManager().getContext().getData(),b=this.getOwnerComponent().getRouter(),a.bpNum&&b.navTo("billing.BillingInfo",{bpNum:a.bpNum,caNum:a.caNum,coNum:a.coNum})},e.prototype._onQLReferralClick=function(){var a=this.getOwnerComponent().getCcuxWebUiManager();a.notifyWebUi("openIndex",{LINK_ID:"Z_SENDREF"})},e.prototype._onQLContactLogClick=function(){var a=this.getOwnerComponent().getCcuxWebUiManager();a.notifyWebUi("openIndex",{LINK_ID:"Z_CLFULLVW"})},e.prototype._onQLHighBillClick=function(){var a,b;a=this.getOwnerComponent().getCcuxContextManager().getContext().getData(),b=this.getOwnerComponent().getRouter(),a.bpNum&&a.caNum&&a.coNum?b.navTo("billing.HighBill",{bpNum:a.bpNum,caNum:a.caNum,coNum:a.coNum}):a.bpNum&&a.caNum&&b.navTo("billing.HighBillNoCo",{bpNum:a.bpNum,caNum:a.caNum})},e.prototype._onQLRHSClick=function(){var a=this.getOwnerComponent().getCcuxWebUiManager();a.notifyWebUi("openIndex",{LINK_ID:"ZVASOPTSLN"})},e.prototype._onQLHistoryClick=function(){var a,b;a=this.getOwnerComponent().getCcuxContextManager().getContext().getData(),b=this.getOwnerComponent().getRouter(),a.bpNum&&a.coNum&&a.caNum&&b.navTo("usage",{bpNum:a.bpNum,caNum:a.caNum,coNum:a.coNum,typeV:"D"})},e.prototype._onQLBusinessPartnerClick=function(){var a,b;a=this.getOwnerComponent().getCcuxContextManager().getContext().getData(),b=this.getOwnerComponent().getRouter(),a.bpNum&&b.navTo("dashboard.BpInfo",{bpNum:a.bpNum})},e.prototype._onQLDashboardClick=function(){var a,b;a=this.getOwnerComponent().getCcuxContextManager().getContext().getData(),b=this.getOwnerComponent().getRouter(),a.bpNum&&a.caNum&&a.coNum?b.navTo("dashboard.VerificationWithCaCo",{bpNum:a.bpNum,caNum:a.caNum,coNum:a.coNum}):a.bpNum&&a.caNum?b.navTo("dashboard.VerificationWithCa",{bpNum:a.bpNum,caNum:a.caNum}):a.bpNum&&b.navTo("dashboard.Verification",{bpNum:a.bpNum})},e.prototype._onQLCampaignClick=function(){var a,b;a=this.getOwnerComponent().getCcuxContextManager().getContext().getData(),b=this.getOwnerComponent().getRouter(),a.bpNum&&a.coNum&&a.caNum&&b.navTo("campaign",{bpNum:a.bpNum,caNum:a.caNum,coNum:a.coNum,typeV:"C"})},e.prototype._onMenuPress=function(a){this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.Menu)},e.prototype._onMessagesPress=function(a){this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.Messages)},e.prototype._onIndexPress=function(a){this.getView().getModel("view-index")||this._initIndexConfigModel(),this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.Index)},e.prototype._onTransactionPress=function(a){var b=this.getOwnerComponent().getCcuxWebUiManager();this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.Transaction),this._oApp.setOccupied(!0),b.isAvailable()?b.notifyWebUi("launchTransaction",{},this._onTransactionPressCallback,this):this._onTransactionPressCallback()},e.prototype._onTransactionPressCallback=function(){this._oApp.setOccupied(!1)},e.prototype._onEsidToolPress=function(a){var b=this.getOwnerComponent().getCcuxWebUiManager();this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.EsidTool),this._oApp.setOccupied(!0),b.isAvailable()?b.notifyWebUi("openEsidTool",{},this._onEsidToolPressCallback,this):this._onEsidToolPressCallback()},e.prototype._onEsidToolPressCallback=function(){this._oApp.setOccupied(!1)},e.prototype._onPalPlusPress=function(a){var b=this.getOwnerComponent().getCcuxWebUiManager();this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.PalPlus),this._oApp.setOccupied(!0),b.isAvailable()?b.notifyWebUi("openPalPlus",{},this._onPalPlusPressCallback,this):this._onPalPlusPressCallback()},e.prototype._onPalPlusPressCallback=function(){this._oApp.setOccupied(!1)},e.prototype._onRefreshPress=function(a){var b,d,e,f,g,h;b=this.getOwnerComponent().getCcuxWebUiManager(),e=this.getOwnerComponent().getCcuxRouteManager(),d=this.getOwnerComponent().getRouter(),this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.Refresh),this._oApp.isInEdit()?(g=function(a){a===ute.ui.main.Popup.Action.Yes?(this._oApp.setInEdit(!1),b.isAvailable()&&b.notifyWebUi("refresh"),f=e.getCurrentRouteInfo(),d.navTo("app.refresh"),d.navTo(f.name,f.parameters)):this._oApp._getHeader().setSelected(!1,c.HMItemId.Refresh)}.bind(this),h=this.getOwnerComponent().getModel("comp-i18n-app"),ute.ui.main.Popup.Confirm({title:h.getProperty("nrgAppRefreshDataLossTitle"),message:h.getProperty("nrgAppRefreshDataLossMsg"),callback:g})):(b.isAvailable()&&b.notifyWebUi("refresh"),f=e.getCurrentRouteInfo(),d.navTo("app.refresh"),d.navTo(f.name,f.parameters))},e.prototype._onClearAccPress=function(a){var b=this.getOwnerComponent().getCcuxWebUiManager();this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.ClearAcc),this._oApp.setOccupied(!0),b.isAvailable()?b.notifyWebUi("clearAccount",{},this._onClearAccPressCallback,this):this._onClearAccPressCallback()},e.prototype._onClearAccPressCallback=function(){var a,b;this._oApp.setOccupied(!1),a=this.getOwnerComponent().getCcuxContextManager().resetContext(),b=this.getOwnerComponent().getRouter(),b.navTo("app.refresh",null,!0),b.navTo("search.SearchNoID",null,!0)},e.prototype._onLogoffPress=function(a){var b=this.getOwnerComponent().getCcuxWebUiManager();this._oApp._getHeader().setSelected(a.getSource().getSelected(),c.HMItemId.Logout),this._oApp.setOccupied(!0),b.notifyWebUi("logout",{},this._onLogoffPressCallback,this)},e.prototype._onLogoffPressCallback=function(a){var b=a.getParameters();b.CANCEL&&"X"===b.CANCEL&&this._oApp.setOccupied(!1)},e.prototype._initIndexConfigModel=function(){var a,b;return a=this.getOwnerComponent().getCcuxWebUiManager(),a.isAvailable()?(this._oApp.setOccupied(!0),void(b=a.notifyWebUi("getIndexConfig",{},this._onInitIndexConfigModelCallback,this))):this},e.prototype._onInitIndexConfigModelCallback=function(a){var b=a.getParameters();this.getView().setModel(new d(b),"view-index"),this._oApp.setOccupied(!1)},e.prototype._onIndexLinkPress=function(a){var c=this.getOwnerComponent().getCcuxWebUiManager();this._oApp.setHeaderMenuItemSelected(!1,b.HMItemId.Index),c.notifyWebUi("openIndex",{LINK_ID:a.getSource().getRefId()})},e});