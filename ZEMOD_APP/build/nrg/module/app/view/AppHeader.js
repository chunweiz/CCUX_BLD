sap.ui.define(["sap/ui/base/EventProvider"],function(a){"use strict";var b=a.extend("nrg.module.app.view.AppHeader",{constructor:function(b,c){a.apply(this),this._oController=b,this._oApp=c,this._oSubmenuDlg={}},metadata:{publicMethods:["init","reset","setEnabled","isEnabled","setSelected","isSelected"]}});return b.HMItemId={Menu:"appHMItemMenu",Index:"appHMItemIndex",Transaction:"appHMItemTransaction",EsidTool:"appHMItemEsidTool",PalPlus:"appHMItemPalPlus",Messages:"appHMItemMessages",Refresh:"appHMItemRefresh",ClearAcc:"appHMItemClearAcc",Logoff:"appHMItemLogoff"},b.QuickLinkId={Dashboard:"dashboard",BusinessEnrollment:"bizEnroll",ResidentialEnrollment:"resEnroll",History:"history",ServiceOrder:"serviceOrder",Campaign:"campaign",HighBill:"highBill",RHS:"rhs",ContactLog:"contactLog",Billing:"billing",BusinessPartner:"bupa",Referral:"Ref"},b.prototype.init=function(){this._registerHMItemEvents()},b.prototype.reset=function(){this._resetAllHMItemState(),this._closeAllSubmenus(),this._clearHeaderMessages()},b.prototype.setEnabled=function(a,b){var c=this._oController.getView().byId(b);return a=!!a,c&&(!a&&this._isSubmenu(b)&&this._closeSubmenu(b),c.setEnabled(a)),this},b.prototype.isEnabled=function(a){var b=this._oController.getView().byId(a);return b?b.getEnabled():!1},b.prototype.setSelected=function(a,b){var c=this._oController.getView().byId(b);return a=!!a,c&&c.getEnabled()&&(this._isSubmenu(b)?(a?this._openSubmenu(b):this._closeSubmenu(b),c.setSelected(a),c.deselectOthers()):a?(c.setSelected(!1),c.deselectOthers(),this._closeAllSubmenus()):c.setSelected(!1)),this},b.prototype.isSelected=function(a){var b=this._oController.getView().byId(a);return b?b.getSelected():!1},b.prototype._resetAllHMItemState=function(){var a,b,c;c=this._oController.getView();for(a in this.HMItemId)this.HMItemId.hasOwnProperty(a)&&(b=c.byId(a),b&&(b.setSelected(!1),b.setEnabled(!0)))},b.prototype._registerHMItemEvents=function(){var a=this._oController.getView();a.byId(b.HMItemId.Menu).attachEvent("press",this._oController._onMenuPress,this._oController),a.byId(b.HMItemId.Index).attachEvent("press",this._oController._onIndexPress,this._oController),a.byId(b.HMItemId.Transaction).attachEvent("press",this._oController._onTransactionPress,this._oController),a.byId(b.HMItemId.EsidTool).attachEvent("press",this._oController._onEsidToolPress,this._oController),a.byId(b.HMItemId.PalPlus).attachEvent("press",this._oController._onPalPlusPress,this._oController),a.byId(b.HMItemId.Messages).attachEvent("press",this._oController._onMessagesPress,this._oController),a.byId(b.HMItemId.Refresh).attachEvent("press",this._oController._onRefreshPress,this._oController),a.byId(b.HMItemId.ClearAcc).attachEvent("press",this._oController._onClearAccPress,this._oController),a.byId(b.HMItemId.Logoff).attachEvent("press",this._oController._onLogoffPress,this._oController)},b.prototype._isSubmenu=function(a){switch(a){case b.HMItemId.Menu:case b.HMItemId.Messages:case b.HMItemId.Index:return!0;default:return!1}},b.prototype._getSubmenu=function(a){var c,d;if(!this._oSubmenuDlg[a]){switch(a){case b.HMItemId.Menu:d="nrg.module.app.view.AppHeaderMenu";break;case b.HMItemId.Messages:d="nrg.module.app.view.AppHeaderMessages";break;case b.HMItemId.Index:d="nrg.module.app.view.AppHeaderIndex";break;default:d=null}d&&(c=this._oController.getView(),this._oSubmenuDlg[a]=sap.ui.xmlfragment(d,this._oController),this._oSubmenuDlg[a].setPosition(c.byId("appHdr"),"0 0"),c.addDependent(this._oSubmenuDlg[a]))}return this._oSubmenuDlg[a]},b.prototype._closeAllSubmenus=function(a){var b;for(b in this._oSubmenuDlg)this._oSubmenuDlg.hasOwnProperty(b)&&(a&&this._oSubmenuDlg[b]===a||this._oSubmenuDlg[b].close())},b.prototype._openSubmenu=function(a){var b,c;return c=this._oController.getView().byId(a),b=this._getSubmenu(a),c&&b&&(c.getSelected()||(c.deselectOthers(),c.setSelected(!0)),this._closeAllSubmenus(b),b.open()),this},b.prototype._closeSubmenu=function(a){var b,c;return c=this._oController.getView().byId(a),b=this._getSubmenu(a),c&&b&&b.close(),this},b.prototype._clearHeaderMessages=function(){var a=this._oController.getOwnerComponent().getCcuxNotificationManager();a.clearHeaderMessages()},b});