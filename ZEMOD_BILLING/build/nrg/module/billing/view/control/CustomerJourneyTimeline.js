sap.ui.define(["jquery.sap.global","sap/ui/core/Control","nrg/module/billing/view/control/CustomerJourneyTimelineRenderer"],function(a,b,c){"use strict";var d=b.extend("nrg.module.billing.view.control.CustomerJourneyTimeline",{metadata:{aggregations:{channel:{type:"nrg.module.billing.view.control.CustomerJourneyTimelineChannel",multiple:!0,singularName:"channel"}},defaultAggregation:"channel"},renderer:c});return d.SCROLL_STEP=330,d.SCROLL_DURATION=500,d.prototype.exit=function(){this.$("navBack").unbind("click",this._onNavBackClick),this.$("navForward").unbind("click",this._onNavForwardClick)},d.prototype.onBeforeRendering=function(){this.$("navBack").unbind("click",this._onNavBackClick),this.$("navForward").unbind("click",this._onNavForwardClick)},d.prototype.onAfterRendering=function(){this.$("navBack").bind("click",this._onNavBackClick.bind(this)),this.$("navForward").bind("click",this._onNavForwardClick.bind(this)),a.sap.delayedCall(0,this,function(){this._scroll(this.getDomRef("channelContainer").scrollWidth,50),a.sap.delayedCall(50,this,function(){this._checkOverflow()})})},d.prototype._onNavBackClick=function(){this._scroll(-d.SCROLL_STEP,d.SCROLL_DURATION),a.sap.delayedCall(d.SCROLL_DURATION,this,function(){this._checkOverflow()})},d.prototype._onNavForwardClick=function(){this._scroll(d.SCROLL_STEP,d.SCROLL_DURATION),a.sap.delayedCall(d.SCROLL_DURATION,this,function(){this._checkOverflow()})},d.prototype._onCheckDescriptions=function(){var a=this.getAggregation("channel");a&&a.forEach(function(a){a.getSelected()&&a.setSelected(!1)})},d.prototype._scroll=function(b,c){var d=this.getDomRef("channelContainer"),e=d.scrollLeft,f=e+b;a(d).stop(!0,!0).animate({scrollLeft:f},c)},d.prototype._checkOverflow=function(){var a=this.getDomRef("channelContainer"),b=this.$("navBack"),c=this.$("navForward"),d=a.scrollLeft,e=a.scrollWidth,f=a.clientWidth,g=!1,h=!1;1===Math.abs(e-f)&&(e=f),d>0&&(g=!0),e>f&&e>d+f&&(h=!0),g?b.removeClass("nrgCJT-navBack-hide"):b.addClass("nrgCJT-navBack-hide"),h?c.removeClass("nrgCJT-navForward-hide"):c.addClass("nrgCJT-navForward-hide"),this._onCheckDescriptions()},d});